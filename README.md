## 技術スタック

| 項目               | 技術・サービス                     | 詳細                             |
| ------------------ | ---------------------------------- | -------------------------------- |
| フレームワーク     | **Next.js 15.3.3**                 | React 19.0.0, TypeScript         |
| データベース       | **PostgreSQL + Prisma Accelerate** | 本番・開発共通                   |
| ORM                | **Prisma 6.10.1**                  | スキーマ管理・クエリ最適化       |
| 認証               | **JWT**                            | bcryptjs でパスワードハッシュ化  |
| ファイルストレージ | **AWS S3**                         | 本番環境画像アップロード         |
| メール送信         | **Nodemailer + Gmail SMTP**        | パスワードリセット機能           |
| 画像最適化         | **Next.js Image**                  | 自動最適化・レスポンシブ対応     |
| デプロイ           | **Vercel**                         | サーバーレス環境でのホスティング |
| CI/CD              | **GitHub Actions + Vercel**        | 自動テスト・デプロイパイプライン |

# Office Manager - オフィス管理アプリ

Next.js + Prisma + JWT 認証によるオフィス管理システムのポートフォリオプロジェクトです。

## アプリケーション概要

_エンジニアリングを行う学生団体(playgroud)のメンバーとして大学で発表しました。その時のスライドの一部です。_

![Office Manager アプリケーション画面](./screenshots/app-overview.png)

## サービス概要

このアプリは、エンジニアリングを行う学生団体（playground）の岡山オフィスを利用する際の課題を解決するために開発しました。

### 解決した課題

**「実際にオフィスに行かないと誰がいるか分からない」**

従来は、オフィスに誰がいるのかを知るためには実際に現地に行く必要がありました。これにより、無駄足になったり、一人で作業することになったりする問題がありました。

### 提供する価値

**「いつ、どこからでもオフィスの在室状況を一目で把握」**

- **今誰々がいるから行こう** - メンバーの在室状況を確認してからオフィスに向かえる
- **誰もいないから今日はやめよう** - 無駄な移動時間を削減
- **リアルタイムな状況把握** - 入退室状況をリアルタイムで共有

これにより、メンバー間のコミュニケーションが活発になり、効率的なオフィス利用が実現できました。

---

## 技術選定の理由

### **Next.js 15.3.3 + React 19.0.0**

- **App Router**: モダンなファイルベースルーティング
- **サーバーサイドレンダリング**: SEO 対応と初期表示速度の向上
- **TypeScript 統合**: 型安全性による開発効率の向上
- **API Routes**: フルスタック開発が 1 つのフレームワークで完結

### **PostgreSQL + Prisma Accelerate**

- **PostgreSQL**: 本格的なリレーショナルデータベースでの実装経験
- **Prisma ORM**: 型安全なクエリとスキーマ管理
- **Prisma Accelerate**: コネクションプールとクエリキャッシュでパフォーマンス最適化

### **JWT 認証 + bcryptjs**

- **ステートレス認証**: スケーラブルな認証システム
- **セキュリティ**: 業界標準のパスワードハッシュ化

### **AWS S3 + Vercel**

- **ファイルストレージ**: スケーラブルで信頼性の高い画像管理
- **サーバーレスデプロイ**: 運用コストの削減と自動スケーリング

### **CI/CD パイプライン**

- **GitHub Actions**: コード品質チェック、自動テスト実行
- **Vercel 自動デプロイ**: main ブランチへの push 時に本番環境自動更新
- **プレビューデプロイ**: PR 作成時の自動プレビュー環境生成
- **環境変数管理**: 本番・開発環境での設定自動切り替え

## 機能概要

### ユーザー管理

- ユーザー登録（名前・メール・パスワード・アイコン画像）
- JWT 認証によるログイン
- パスワードリセット（メール送信）

### 入退室管理

- 入室・退室の記録
- 入室者一覧の表示
- リアルタイム状態更新

### セキュリティ機能

- bcryptjs によるパスワードハッシュ化
- JWT トークン認証（7 日間有効）
- CORS 対応（マルチデバイスアクセス）

## 技術的なポイント

### パフォーマンス最適化

- **共有 Prisma Client**: インスタンス再利用で DB 接続最適化
- **Prisma Accelerate**: コネクションプール・クエリキャッシュ
- **ログイン時 Database Warmup**: 最適なタイミングで事前接続（重複防止）
- **効果**: 新規登録画面も即座に表示

### 環境別ファイル管理

- **開発環境**: ローカルファイルシステム（`public/uploads/`）
- **本番環境**: AWS S3（自動切り替え）
- **画像最適化**: Next.js Image コンポーネント

### セキュリティ実装

- bcryptjs による安全なパスワードハッシュ化
- JWT トークン認証（7 日間有効）
- CORS 設定（相対 URL 使用）

### CI/CD パイプライン

- **GitHub Actions**: ESLint によるコード品質チェック、型検査の自動実行
- **Vercel 自動デプロイ**: Git push トリガーでの本番環境自動更新
- **プレビュー環境**: プルリクエスト毎の独立した検証環境
- **ゼロダウンタイム**: ローリングデプロイによる無停止更新
